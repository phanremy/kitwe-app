<nav class="flex items-start flex-col p-6 bg-gray-200"
     data-controller="reveal">
  <div class="w-full flex justify-between items-center">
    <div id='menu-logo' class="flex items-center flex-shrink-0 mr-6">
      <span class="font-semibold text-xl tracking-tight">
        <%#= link_to 'KITWE', root_path, class: 'block mt-4 lg:inline-block mt-0 text-black-200 mr-4' %>
        <%= link_to root_path, class: 'block mt-4 lg:inline-block mt-0 text-black-200 mr-4' do %>
          <%= render 'shared/logo' %>
        <% end %>
      </span>
    </div>
    <%# <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg> %>

    <div id='menu-dropdown-logo' class="block lg:hidden hover:text-white">
      <button data-action="click->reveal#process"
              data-reveal-target="button"
              class="flex items-center px-3 py-2 border rounded text-black-200 border-gray-400 hover:border-white">
        <svg class="block h-6 w-6 hover:text-white" xmlns="" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <title>Menu</title>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        <svg class="hidden h-6 w-6 " xmlns="" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
  </div>
  <div id='menu-dropdown'
       data-reveal-target="content"
       class="mt-10 lg:mt-16 w-full hidden lg:block transition-all delay-300">
    <div class="text-sm flex flex-col flex-grow">
      <% if user_signed_in? %>
        <%= link_to 'Profiles', profiles_path(profile_id: nil), class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
        <%#= link_to 'Events', events_path, class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
        <%= link_to 'Birthdays', profile_birthdays_path(profile_id: nil), class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
        <%#= link_to 'Couples', couples_path, class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
        <%#= link_to 'Children', profile_children_path, class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
        <%#= link_to 'Families', families_path, class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
        <%#= link_to 'Download (soon)', '#', class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
        <%= link_to 'Log out', destroy_user_session_path, class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
      <% else %>
        <%= link_to 'Log in', new_user_session_path, class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
      <% end %>
    </div>
    <% if (params[:controller] == 'profiles'  && params[:action] == 'show') || params[:profile_id] %>
      <% profile_id = params[:controller] == 'profiles'  && params[:action] == 'show' ? params[:id] : params[:profile_id] %>
      <%= link_to 'Profile', profiles_path(profile_id), class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
      <%= link_to 'Couples', couples_path(profile_id: profile_id), class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
      <%= link_to 'Children', profile_children_path(profile_id: profile_id), class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
      <%= link_to 'Families', families_path(profile_id: profile_id), class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
    <% end %>
  </div>
  <div id='menu-user-settings' class="hidden relative">
    <div>
      <button type="button" class="bg-gray-800 flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800" id="user-menu-button" aria-expanded="false" aria-haspopup="true">
        <span class="sr-only">Open user menu</span>
        <img class="h-8 w-8 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
      </button>
    </div>
    <div class="origin-top-right absolute left-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button" tabindex="-1">
      <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-0">Your Profile</a>
      <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-1">Settings</a>
      <%#= link_to 'Settings', user_path(current_user), class: 'block mb-4 lg:inline-block text-black-200 mr-4' %>
      <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-2">Sign out</a>
    </div>
  </div>
</nav>
