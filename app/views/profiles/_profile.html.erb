<div data-controller="reveal"
     class="relative inline-block text-left">
  <div>
    <button data-action="click->reveal#process"
            data-reveal-target="button"
            type="button"
            class="inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500" id="menu-button" aria-expanded="true" aria-haspopup="true">
      Options
      <!-- Heroicon name: solid/chevron-down -->
      <svg class="-mr-1 ml-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
        <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
      </svg>
    </button>
  </div>

  <div data-reveal-target="content"
       class="origin-top-right absolute left-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
    <div class="py-1" role="none">
      <!-- Active: "bg-gray-100 text-gray-900", Not Active: "text-gray-700" -->
      <%= button_to t('edit'), edit_profile_path, method: :get, class: 'text-gray-700 block px-4 py-2 text-sm', role:'menuitem', tabindex:'-1' %>
      <%= button_to t('delete'), profile_path, method: :delete, class: 'text-gray-700 block px-4 py-2 text-sm', role:'menuitem', tabindex:'-1' %>
    </div>
  </div>
</div>

<div class="flex items-center justify-center">
  <h1 class="text-xl"><%= @profile.designation %></h1>
</div>
<%= t('pseudo', scope: 'activerecord.attributes.profile') %>: <%= @profile.pseudo %> <br>
<%= t('first_name', scope: 'activerecord.attributes.profile') %>: <%= @profile.first_name %> <br>
<%= t('last_name', scope: 'activerecord.attributes.profile') %>: <%= @profile.last_name %> <br>
<%= t('email', scope: 'activerecord.attributes.profile') %>: <%= @profile.email %> <br>
<%= t('phone', scope: 'activerecord.attributes.profile') %>: <%= @profile.phone %> <br>

<% if @profile.birth_date %>
  <div class="flex items-center justify-start">
    <%= t('birth_date', scope: 'activerecord.attributes.profile') %>: <%= l @profile.birth_date, format: :fr_short %>
    <%= link_to create_google_calendar_birthday(@profile), target: '_blank', class: 'text-center bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded mr-2 mb-2' do %>
      <div class="flex">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
        <p class="ml-1">Google Calendar</p>
      </div>
    <% end %>
  </div>
<% end %>

<% if @profile.wedding_date %>
  <div class="flex items-center justify-start">
    <%= t('wedding_date', scope: 'activerecord.attributes.profile') %>: <%= l @profile.wedding_date, format: :fr_long %>
  </div>
<% end %>

<%= t('tiktok_url', scope: 'activerecord.attributes.profile') %>: <%= @profile.tiktok_url %> <br>
<%= t('twitter_url', scope: 'activerecord.attributes.profile') %>: <%= @profile.twitter_url %> <br>
<%= t('linkedin_url', scope: 'activerecord.attributes.profile') %>: <%= @profile.linkedin_url %> <br>
<%= t('notes', scope: 'activerecord.attributes.profile') %>: <%= @profile.notes %>
