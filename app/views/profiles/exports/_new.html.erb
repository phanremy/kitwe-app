<%= render layout: 'shared/modal' do %>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
  <script>new ClipboardJS('#js-clipboard');</script>
  <div class="flex flex-col justify-center items-center">
    <div class="flex flex-wrap place-content-center">
      <%= button_to t('export.download'), downloads_path(format: :csv), method: :post, params: { data: @data, file_name: "export_#{Time.current}.csv"}, class: 'text-center bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded' %>
      <%#= button_to t('export.copy'), shared_links_path, method: :post, id: 'js-clipboard', data: { 'clipboard-text': @data }, class: 'text-center bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded' %>
    </div>
    <div id="data" class="overflow-y-scroll my-8 text-sm" style="width: 80%; height: 50vh; white-space: pre-line">
      <%= raw(@data) %>
    </div>
  </div>
<% end %>
